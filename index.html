<!DOCTYPE html>
<html lang="sv">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Albert Vilhelm - Fotogalleri</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Custom style for modal transition */
        .modal {
            transition: opacity 0.25s ease;
        }
        /* Style to prevent background scroll when modal is open */
        body.modal-open {
            overflow: hidden;
        }
        /* Ensure images within the modal don't exceed viewport limits */
        .modal-img {
            max-height: 90vh; /* 90% of viewport height */
            max-width: 90vw;  /* 90% of viewport width */
            display: block; /* Prevents extra space below image */
            margin: auto; /* Center image if smaller than container */
        }
        /* Style for the date overlay on the modal */
        .modal-date {
            /* Inherits font-family and font-style from body */
            position: absolute;
            bottom: 1rem; /* Position near the bottom */
            left: 50%; /* Center horizontally */
            transform: translateX(-50%); /* Fine-tune centering */
            background-color: rgba(0, 0, 0, 0.6); /* Semi-transparent background */
            color: #e2e8f0; /* Light text color */
            padding: 0.25rem 0.75rem;
            border-radius: 0.25rem;
            font-size: 0.9rem;
            pointer-events: none; /* Don't block clicks on the modal background */
        }
        /* --- Set base font for the entire page --- */
        body {
            font-family: 'Times New Roman', Times, serif;
            font-style: italic;
        }
        /* --- Add transition for the hover effect on images --- */
        .photo-entry img {
            transition: transform 0.2s ease-in-out; /* Slightly faster transition */
        }
    </style>
</head>
<body class="bg-black text-gray-300">

    <div class="container mx-auto px-4 py-8">
        <h1 class="text-3xl text-center text-white mb-8">Mitt fotoalbum;</h1>

        <div id="gallery" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5">

            <div class="photo-entry group cursor-pointer overflow-hidden relative" data-date="May 4, 2025">
                <img src="images/BILD1.jpg"
                     alt=""
                     /* --- Reduced height significantly (h-16), kept hover scale --- */
                     class="w-full h-16 object-cover block group-hover:scale-125"
                     data-fullsrc="images/BILD1.jpg">
            </div>

            <div class="photo-entry group cursor-pointer overflow-hidden relative" data-date="May 3, 2025">
                 <img src="https://placehold.co/300x200/444/eee?text=Foto+2" alt=""
                     /* --- Reduced height significantly (h-16), kept hover scale --- */
                     class="w-full h-16 object-cover block group-hover:scale-125"
                     data-fullsrc="https://placehold.co/800x600/444/eee?text=Foto+2+Stor">
            </div>

             <div class="photo-entry group cursor-pointer overflow-hidden relative" data-date="May 2, 2025">
                 <img src="https://placehold.co/300x200/555/ddd?text=Foto+3" alt=""
                     /* --- Reduced height significantly (h-16), kept hover scale --- */
                     class="w-full h-16 object-cover block group-hover:scale-125"
                     data-fullsrc="https://placehold.co/800x600/555/ddd?text=Foto+3+Stor">
            </div>

            <div class="photo-entry group cursor-pointer overflow-hidden relative" data-date="May 1, 2025">
                 <img src="https://placehold.co/300x200/2a2a2a/ccc?text=Foto+4" alt=""
                     /* --- Reduced height significantly (h-16), kept hover scale --- */
                     class="w-full h-16 object-cover block group-hover:scale-125"
                     data-fullsrc="https://placehold.co/800x600/2a2a2a/ccc?text=Foto+4+Stor">
            </div>

             <div class="photo-entry group cursor-pointer overflow-hidden relative" data-date="Apr 30, 2025">
                 <img src="https://placehold.co/300x200/666/bbb?text=Foto+5" alt=""
                     /* --- Reduced height significantly (h-16), kept hover scale --- */
                     class="w-full h-16 object-cover block group-hover:scale-125"
                     data-fullsrc="https://placehold.co/800x600/666/bbb?text=Foto+5+Stor">
            </div>

             <div class="photo-entry group cursor-pointer overflow-hidden relative" data-date="Apr 29, 2025">
                 <img src="https://placehold.co/300x200/3a3a3a/aaa?text=Foto+6" alt=""
                     /* --- Reduced height significantly (h-16), kept hover scale --- */
                     class="w-full h-16 object-cover block group-hover:scale-125"
                     data-fullsrc="https://placehold.co/800x600/3a3a3a/aaa?text=Foto+6+Stor">
            </div>

             <div class="photo-entry group cursor-pointer overflow-hidden relative" data-date="Apr 28, 2025">
                 <img src="https://placehold.co/300x200/777/999?text=Foto+7" alt=""
                     /* --- Reduced height significantly (h-16), kept hover scale --- */
                     class="w-full h-16 object-cover block group-hover:scale-125"
                     data-fullsrc="https://placehold.co/800x600/777/999?text=Foto+7+Stor">
            </div>
             <div class="photo-entry group cursor-pointer overflow-hidden relative" data-date="Apr 27, 2025">
                 <img src="https://placehold.co/300x200/4a4a4a/888?text=Foto+8" alt=""
                     /* --- Reduced height significantly (h-16), kept hover scale --- */
                     class="w-full h-16 object-cover block group-hover:scale-125"
                     data-fullsrc="https://placehold.co/800x600/4a4a4a/888?text=Foto+8+Stor">
            </div>
             <div class="photo-entry group cursor-pointer overflow-hidden relative" data-date="Apr 26, 2025">
                 <img src="https://placehold.co/300x200/888/777?text=Foto+9" alt=""
                     /* --- Reduced height significantly (h-16), kept hover scale --- */
                     class="w-full h-16 object-cover block group-hover:scale-125"
                     data-fullsrc="https://placehold.co/800x600/888/777?text=Foto+9+Stor">
            </div>
             <div class="photo-entry group cursor-pointer overflow-hidden relative" data-date="Apr 25, 2025">
                 <img src="https://placehold.co/300x200/5a5a5a/666?text=Foto+10" alt=""
                     /* --- Reduced height significantly (h-16), kept hover scale --- */
                     class="w-full h-16 object-cover block group-hover:scale-125"
                     data-fullsrc="https://placehold.co/800x600/5a5a5a/666?text=Foto+10+Stor">
            </div>

        </div></div><div id="imageModal" class="modal fixed inset-0 bg-black bg-opacity-80 flex justify-center items-center p-4 opacity-0 pointer-events-none z-50">
        <div class="relative">
             <img id="modalImage" src="" alt="FÃ¶rstorad vy" class="modal-img rounded-lg shadow-2xl object-contain">
             <p id="modalDateDisplay" class="modal-date"></p>
        </div>
        <button id="closeModal" class="absolute top-4 right-4 text-white text-4xl hover:text-gray-400 transition-colors">&times;</button>
    </div>


    <script>
        // JavaScript code remains the same
        document.addEventListener('DOMContentLoaded', () => {
            const gallery = document.getElementById('gallery');
            const modal = document.getElementById('imageModal');
            const modalImage = document.getElementById('modalImage');
            const closeModal = document.getElementById('closeModal');
            const modalDateDisplay = document.getElementById('modalDateDisplay'); // Get date display element

            if (!gallery || !modal || !modalImage || !closeModal || !modalDateDisplay) {
                console.error("Gallery or modal elements not found!");
                return;
            }

            // Add click listener to gallery container (event delegation)
            gallery.addEventListener('click', (event) => {
                // Find the closest parent photo entry element
                const entry = event.target.closest('.photo-entry');
                if (entry) {
                    const imgElement = entry.querySelector('img');
                    // Get the date from the data-date attribute of the entry
                    const dateText = entry.dataset.date;

                    if (imgElement && imgElement.dataset.fullsrc) {
                        const fullSrc = imgElement.dataset.fullsrc;
                        modalImage.src = fullSrc; // Set the source for the modal image
                        modalDateDisplay.textContent = dateText || ""; // Set the date text, or empty if not found
                        modal.classList.remove('opacity-0'); // Make modal visible
                        modal.classList.remove('pointer-events-none');
                        document.body.classList.add('modal-open'); // Prevent background scroll
                    }
                }
            });

            // Function to close the modal
            function hideModal() {
                modal.classList.add('opacity-0');
                modal.classList.add('pointer-events-none');
                document.body.classList.remove('modal-open');
                 // Optional: Clear src and date after fade out
                setTimeout(() => {
                    modalImage.src = "";
                    modalDateDisplay.textContent = ""; // Clear date text
                }, 250); // Match transition duration
            }

            // Close modal when close button is clicked
            closeModal.addEventListener('click', hideModal);

            // Close modal when clicking outside the image (on the background overlay)
            modal.addEventListener('click', (event) => {
                // Check if the click was directly on the modal background, not the image/date container
                if (event.target === modal) {
                    hideModal();
                }
            });

            // Close modal with Escape key
            document.addEventListener('keydown', (event) => {
                if (event.key === 'Escape' && !modal.classList.contains('opacity-0')) {
                    hideModal();
                }
            });
        });
    </script>

</body>
</html>
